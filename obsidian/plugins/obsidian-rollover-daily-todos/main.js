'use strict';

var obsidian = require('obsidian');

class RolloverTodosPlugin extends obsidian.Plugin {
	checkDailyNotesEnabled() {
		return this.app.vault.config.pluginEnabledStatus['daily-notes'];
	}

	getDailyNotesDirectory() {
		if (this.dailyNotesDirectory != null) {
			return this.dailyNotesDirectory;
		}

		this.dailyNotesDirectory = this.app.internalPlugins.plugins['daily-notes'].instance.options.folder;
		return this.dailyNotesDirectory;
	}

	getLastDailyNote() {
		const dailyNotesDirectory = this.getDailyNotesDirectory();
		
		const files = this.app.vault.getAllLoadedFiles()
			.filter(file => file.path.startsWith(dailyNotesDirectory))
			.filter(file => file.basename != null)
			.sort((a, b) => new Date(b.basename).getTime() - new Date(a.basename).getTime());

		return files[1];
	}

	async getAllUnfinishedTodos(file) {
		const contents = await this.app.vault.read(file);
		const unfinishedTodosRegex = /- \[ \].*/g;
		const unfinishedTodos = Array.from(contents.matchAll(unfinishedTodosRegex)).map(([todo]) => todo);
		return unfinishedTodos;
	}

	async onload() {
		this.settings = await this.loadData() || { templateHeading: 'none' };

		if (!this.checkDailyNotesEnabled()) {
			new obsidian.Notice('Daily notes plugin is not enabled. Enable it and then reload Obsidian.', 2000);
		}

		this.addSettingTab(new RollverTodosSettings(this.app, this));

		this.registerEvent(this.app.vault.on('create', async (file) => {
			// is a daily note
			const dailyNotesDirectory = this.getDailyNotesDirectory();
			if (!file.path.startsWith(dailyNotesDirectory)) return;

			// is today's daily note
			const today = new Date();
			if (today.toISOString().slice(0, 10) !== file.basename) return;

			// was just created
			if (today.getTime() - file.stat.ctime > 1) return;

			const lastDailyNote = this.getLastDailyNote();
			if (lastDailyNote == null) return;

			const unfinishedTodos = await this.getAllUnfinishedTodos(lastDailyNote);
			
			let dailyNoteContent = await this.app.vault.read(file);

			if (this.settings.templateHeading !== 'none') {
				const heading = this.settings.templateHeading + '\n';
				dailyNoteContent = dailyNoteContent.replace(heading, heading + unfinishedTodos.join('\n') + '\n');
			} else {
				dailyNoteContent += unfinishedTodos.join('\n');
			}

			await this.app.vault.modify(file, dailyNoteContent);
		}));
	}
}

class RollverTodosSettings extends obsidian.PluginSettingTab {
	constructor(app, plugin) {
		super(app, plugin);
		this.plugin = plugin;
	}

	async getTemplateHeadings() {
		const template = this.app.internalPlugins.plugins['daily-notes'].instance.options.template;
		if (!template) return [];
		
		const file = this.app.vault.getAbstractFileByPath(template + '.md');
		const templateContents = await this.app.vault.read(file);
		const allHeadings = Array.from(templateContents.matchAll(/#{1,} .*/g)).map(([heading]) => heading);
		return allHeadings;
	}

	async display() {
		const templateHeadings = await this.getTemplateHeadings();

		this.containerEl.empty();
		new obsidian.Setting(this.containerEl)
			.setName('Template heading')
			.setDesc('Which heading from your template should the todos go under')
			.addDropdown((dropdown) => dropdown
				.addOptions({
					...templateHeadings.reduce((acc, heading) => {
						acc[heading] = heading;
						return acc;
					}, {}),
					'none': 'None' 
				})
				.setValue(this.plugin?.settings.templateHeading)
				.onChange(value => {
					this.plugin.settings.templateHeading = value;
					this.plugin.saveData(this.plugin.settings);
				})
			);
		}
}

module.exports = RolloverTodosPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIFNldHRpbmcsIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2xsb3ZlclRvZG9zUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRjaGVja0RhaWx5Tm90ZXNFbmFibGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLnZhdWx0LmNvbmZpZy5wbHVnaW5FbmFibGVkU3RhdHVzWydkYWlseS1ub3RlcyddO1xyXG5cdH1cclxuXHJcblx0Z2V0RGFpbHlOb3Rlc0RpcmVjdG9yeSgpIHtcclxuXHRcdGlmICh0aGlzLmRhaWx5Tm90ZXNEaXJlY3RvcnkgIT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5kYWlseU5vdGVzRGlyZWN0b3J5O1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGFpbHlOb3Rlc0RpcmVjdG9yeSA9IHRoaXMuYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zWydkYWlseS1ub3RlcyddLmluc3RhbmNlLm9wdGlvbnMuZm9sZGVyO1xyXG5cdFx0cmV0dXJuIHRoaXMuZGFpbHlOb3Rlc0RpcmVjdG9yeTtcclxuXHR9XHJcblxyXG5cdGdldExhc3REYWlseU5vdGUoKSB7XHJcblx0XHRjb25zdCBkYWlseU5vdGVzRGlyZWN0b3J5ID0gdGhpcy5nZXREYWlseU5vdGVzRGlyZWN0b3J5KCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKVxyXG5cdFx0XHQuZmlsdGVyKGZpbGUgPT4gZmlsZS5wYXRoLnN0YXJ0c1dpdGgoZGFpbHlOb3Rlc0RpcmVjdG9yeSkpXHJcblx0XHRcdC5maWx0ZXIoZmlsZSA9PiBmaWxlLmJhc2VuYW1lICE9IG51bGwpXHJcblx0XHRcdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmJhc2VuYW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmJhc2VuYW1lKS5nZXRUaW1lKCkpO1xyXG5cclxuXHRcdHJldHVybiBmaWxlc1sxXTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldEFsbFVuZmluaXNoZWRUb2RvcyhmaWxlKSB7XHJcblx0XHRjb25zdCBjb250ZW50cyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblx0XHRjb25zdCB1bmZpbmlzaGVkVG9kb3NSZWdleCA9IC8tIFxcWyBcXF0uKi9nXHJcblx0XHRjb25zdCB1bmZpbmlzaGVkVG9kb3MgPSBBcnJheS5mcm9tKGNvbnRlbnRzLm1hdGNoQWxsKHVuZmluaXNoZWRUb2Rvc1JlZ2V4KSkubWFwKChbdG9kb10pID0+IHRvZG8pXHJcblx0XHRyZXR1cm4gdW5maW5pc2hlZFRvZG9zO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IGF3YWl0IHRoaXMubG9hZERhdGEoKSB8fCB7IHRlbXBsYXRlSGVhZGluZzogJ25vbmUnIH07XHJcblxyXG5cdFx0aWYgKCF0aGlzLmNoZWNrRGFpbHlOb3Rlc0VuYWJsZWQoKSkge1xyXG5cdFx0XHRuZXcgTm90aWNlKCdEYWlseSBub3RlcyBwbHVnaW4gaXMgbm90IGVuYWJsZWQuIEVuYWJsZSBpdCBhbmQgdGhlbiByZWxvYWQgT2JzaWRpYW4uJywgMjAwMClcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFJvbGx2ZXJUb2Rvc1NldHRpbmdzKHRoaXMuYXBwLCB0aGlzKSlcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsIGFzeW5jIChmaWxlKSA9PiB7XHJcblx0XHRcdC8vIGlzIGEgZGFpbHkgbm90ZVxyXG5cdFx0XHRjb25zdCBkYWlseU5vdGVzRGlyZWN0b3J5ID0gdGhpcy5nZXREYWlseU5vdGVzRGlyZWN0b3J5KClcclxuXHRcdFx0aWYgKCFmaWxlLnBhdGguc3RhcnRzV2l0aChkYWlseU5vdGVzRGlyZWN0b3J5KSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gaXMgdG9kYXkncyBkYWlseSBub3RlXHJcblx0XHRcdGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0aWYgKHRvZGF5LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApICE9PSBmaWxlLmJhc2VuYW1lKSByZXR1cm47XHJcblxyXG5cdFx0XHQvLyB3YXMganVzdCBjcmVhdGVkXHJcblx0XHRcdGlmICh0b2RheS5nZXRUaW1lKCkgLSBmaWxlLnN0YXQuY3RpbWUgPiAxKSByZXR1cm47XHJcblxyXG5cdFx0XHRjb25zdCBsYXN0RGFpbHlOb3RlID0gdGhpcy5nZXRMYXN0RGFpbHlOb3RlKCk7XHJcblx0XHRcdGlmIChsYXN0RGFpbHlOb3RlID09IG51bGwpIHJldHVybjtcclxuXHJcblx0XHRcdGNvbnN0IHVuZmluaXNoZWRUb2RvcyA9IGF3YWl0IHRoaXMuZ2V0QWxsVW5maW5pc2hlZFRvZG9zKGxhc3REYWlseU5vdGUpXHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgZGFpbHlOb3RlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSlcclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnRlbXBsYXRlSGVhZGluZyAhPT0gJ25vbmUnKSB7XHJcblx0XHRcdFx0Y29uc3QgaGVhZGluZyA9IHRoaXMuc2V0dGluZ3MudGVtcGxhdGVIZWFkaW5nICsgJ1xcbidcclxuXHRcdFx0XHRkYWlseU5vdGVDb250ZW50ID0gZGFpbHlOb3RlQ29udGVudC5yZXBsYWNlKGhlYWRpbmcsIGhlYWRpbmcgKyB1bmZpbmlzaGVkVG9kb3Muam9pbignXFxuJykgKyAnXFxuJylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkYWlseU5vdGVDb250ZW50ICs9IHVuZmluaXNoZWRUb2Rvcy5qb2luKCdcXG4nKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZGFpbHlOb3RlQ29udGVudCk7XHJcblx0XHR9KSlcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIFJvbGx2ZXJUb2Rvc1NldHRpbmdzIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0Y29uc3RydWN0b3IoYXBwLCBwbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKVxyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW5cclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldFRlbXBsYXRlSGVhZGluZ3MoKSB7XHJcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zWydkYWlseS1ub3RlcyddLmluc3RhbmNlLm9wdGlvbnMudGVtcGxhdGU7XHJcblx0XHRpZiAoIXRlbXBsYXRlKSByZXR1cm4gW107XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGVtcGxhdGUgKyAnLm1kJylcclxuXHRcdGNvbnN0IHRlbXBsYXRlQ29udGVudHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpXHJcblx0XHRjb25zdCBhbGxIZWFkaW5ncyA9IEFycmF5LmZyb20odGVtcGxhdGVDb250ZW50cy5tYXRjaEFsbCgvI3sxLH0gLiovZykpLm1hcCgoW2hlYWRpbmddKSA9PiBoZWFkaW5nKVxyXG5cdFx0cmV0dXJuIGFsbEhlYWRpbmdzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZGlzcGxheSgpIHtcclxuXHRcdGNvbnN0IHRlbXBsYXRlSGVhZGluZ3MgPSBhd2FpdCB0aGlzLmdldFRlbXBsYXRlSGVhZGluZ3MoKVxyXG5cclxuXHRcdHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKVxyXG5cdFx0bmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1RlbXBsYXRlIGhlYWRpbmcnKVxyXG5cdFx0XHQuc2V0RGVzYygnV2hpY2ggaGVhZGluZyBmcm9tIHlvdXIgdGVtcGxhdGUgc2hvdWxkIHRoZSB0b2RvcyBnbyB1bmRlcicpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbnMoe1xyXG5cdFx0XHRcdFx0Li4udGVtcGxhdGVIZWFkaW5ncy5yZWR1Y2UoKGFjYywgaGVhZGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRhY2NbaGVhZGluZ10gPSBoZWFkaW5nO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYWNjO1xyXG5cdFx0XHRcdFx0fSwge30pLFxyXG5cdFx0XHRcdFx0J25vbmUnOiAnTm9uZScgXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4/LnNldHRpbmdzLnRlbXBsYXRlSGVhZGluZylcclxuXHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGVtcGxhdGVIZWFkaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncylcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlBsdWdpbiIsIk5vdGljZSIsIlBsdWdpblNldHRpbmdUYWIiLCJTZXR0aW5nIl0sIm1hcHBpbmdzIjoiOzs7O0FBRWUsTUFBTSxtQkFBbUIsU0FBU0EsZUFBTSxDQUFDO0FBQ3hELENBQUMsc0JBQXNCLEdBQUc7QUFDMUIsRUFBRSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNsRSxFQUFFO0FBQ0Y7QUFDQSxDQUFDLHNCQUFzQixHQUFHO0FBQzFCLEVBQUUsSUFBSSxJQUFJLENBQUMsbUJBQW1CLElBQUksSUFBSSxFQUFFO0FB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
